"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/zone/channels/route";
exports.ids = ["app/api/zone/channels/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ameralyasin_Desktop_cam_analysis_app_api_zone_channels_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/zone/channels/route.ts */ \"(rsc)/./app/api/zone/channels/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/zone/channels/route\",\n        pathname: \"/api/zone/channels\",\n        filename: \"route\",\n        bundlePath: \"app/api/zone/channels/route\"\n    },\n    resolvedPagePath: \"/Users/ameralyasin/Desktop/cam analysis/app/api/zone/channels/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ameralyasin_Desktop_cam_analysis_app_api_zone_channels_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/zone/channels/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ6b25lJTJGY2hhbm5lbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnpvbmUlMkZjaGFubmVscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnpvbmUlMkZjaGFubmVscyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFtZXJhbHlhc2luJTJGRGVza3RvcCUyRmNhbSUyMGFuYWx5c2lzJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFtZXJhbHlhc2luJTJGRGVza3RvcCUyRmNhbSUyMGFuYWx5c2lzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtLWFuYWx5c2lzLz80NjVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9hbWVyYWx5YXNpbi9EZXNrdG9wL2NhbSBhbmFseXNpcy9hcHAvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS96b25lL2NoYW5uZWxzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS96b25lL2NoYW5uZWxzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FtZXJhbHlhc2luL0Rlc2t0b3AvY2FtIGFuYWx5c2lzL2FwcC9hcGkvem9uZS9jaGFubmVscy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS96b25lL2NoYW5uZWxzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/zone/channels/route.ts":
/*!****************************************!*\
  !*** ./app/api/zone/channels/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nconst emptyStats = ()=>({\n        peopleIn: 0,\n        peopleOut: 0,\n        faceEvents: 0,\n        facesDetected: 0,\n        gender: {\n            male: 0,\n            female: 0,\n            unknown: 0\n        },\n        age: {\n            avg: null\n        },\n        glasses: {\n            yes: 0,\n            no: 0,\n            unknown: 0\n        },\n        lastEventAt: null\n    });\nconst emptyAgeBuckets = ()=>({\n        child: 0,\n        teen: 0,\n        youngAdult: 0,\n        middleAge: 0,\n        senior: 0,\n        unknown: 0\n    });\nasync function GET(req) {\n    const url = new URL(req.url);\n    const zone = url.searchParams.get(\"zone\")?.trim();\n    const day = url.searchParams.get(\"day\");\n    const dayParam = day ? day.trim() : \"\";\n    if (!zone) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            ok: false,\n            error: \"Missing zone.\"\n        }, {\n            status: 400\n        });\n    }\n    const db = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getDbPool)();\n    const channelsResult = await db.query(`select c.id as camera_id,\n            c.ip,\n            c.name as camera_name,\n            ch.channel_no,\n            ch.name as channel_name,\n            ch.zone,\n            ch.features,\n            ch.capabilities\n     from channels ch\n     join cameras c on c.id = ch.camera_id\n     where ch.zone = $1\n     order by coalesce(c.name, c.ip) asc, ch.channel_no asc`, [\n        zone\n    ]);\n    const channelRows = channelsResult.rows;\n    const peopleWhere = dayParam ? \"ch.zone = $1 and p.day = $2::date\" : \"ch.zone = $1 and p.day >= current_date\";\n    const peopleParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const peopleRows = await db.query(`select p.camera_id,\n            p.channel_no,\n            coalesce(sum(p.in_count), 0) as people_in,\n            coalesce(sum(p.out_count), 0) as people_out,\n            max(p.day) as last_people_event\n     from counting_stats_daily p\n     join channels ch\n       on ch.camera_id = p.camera_id and ch.channel_no = p.channel_no\n     where ${peopleWhere}\n     group by p.camera_id, p.channel_no`, peopleParams);\n    const faceWhere = dayParam ? \"ch.zone = $1 and f.bucket_start >= $2::date and f.bucket_start < $2::date + interval '1 day'\" : \"ch.zone = $1\";\n    const faceParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const faceRows = await db.query(`select f.camera_id,\n            f.channel_no,\n            max(f.bucket_start) as last_face_event\n     from face_stats_hourly f\n     join channels ch\n       on ch.camera_id = f.camera_id and ch.channel_no = f.channel_no\n     where ${faceWhere}\n     group by f.camera_id, f.channel_no`, faceParams);\n    const attributeWhere = dayParam ? \"ch.zone = $1 and f.day = $2::date\" : \"ch.zone = $1 and f.day >= current_date\";\n    const attributeParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const attributeRows = await db.query(`select f.camera_id,\n            f.channel_no,\n            coalesce(sum(f.total), 0) as faces_total,\n            coalesce(sum(f.male), 0) as male_count,\n            coalesce(sum(f.female), 0) as female_count,\n            coalesce(sum(f.unknown_gender), 0) as gender_unknown,\n            coalesce(sum(f.glasses_yes), 0) as glasses_yes,\n            coalesce(sum(f.glasses_no), 0) as glasses_no,\n            coalesce(sum(f.glasses_unknown), 0) as glasses_unknown,\n            coalesce(sum(f.age_child), 0) as child_count,\n            coalesce(sum(f.age_teen), 0) as teen_count,\n            coalesce(sum(f.age_young_adult), 0) as young_count,\n            coalesce(sum(f.age_middle_age), 0) as middle_count,\n            coalesce(sum(f.age_senior), 0) as senior_count,\n            coalesce(sum(f.age_unknown), 0) as age_unknown_count\n     from face_stats_daily f\n     join channels ch\n       on ch.camera_id = f.camera_id and ch.channel_no = f.channel_no\n     where ${attributeWhere}\n     group by f.camera_id, f.channel_no`, attributeParams);\n    const statsMap = new Map();\n    const ageMap = new Map();\n    const keyFor = (cameraId, channelNo)=>`${cameraId}:${channelNo}`;\n    for (const row of peopleRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        statsMap.set(keyFor(cameraId, channelNo), {\n            peopleIn: Number(row.people_in ?? 0),\n            peopleOut: Number(row.people_out ?? 0),\n            faceEvents: 0,\n            facesDetected: 0,\n            gender: {\n                male: 0,\n                female: 0,\n                unknown: 0\n            },\n            age: {\n                avg: null\n            },\n            glasses: {\n                yes: 0,\n                no: 0,\n                unknown: 0\n            },\n            lastEventAt: row.last_people_event ? new Date(row.last_people_event).toISOString() : null\n        });\n    }\n    for (const row of faceRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        const key = keyFor(cameraId, channelNo);\n        const existing = statsMap.get(key) ?? emptyStats();\n        const lastFace = row.last_face_event ? new Date(row.last_face_event).toISOString() : null;\n        statsMap.set(key, {\n            ...existing,\n            faceEvents: existing.faceEvents,\n            facesDetected: existing.facesDetected,\n            lastEventAt: existing.lastEventAt || lastFace\n        });\n    }\n    for (const row of attributeRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        const key = keyFor(cameraId, channelNo);\n        const existing = statsMap.get(key) ?? emptyStats();\n        const child = Number(row.child_count ?? 0);\n        const teen = Number(row.teen_count ?? 0);\n        const young = Number(row.young_count ?? 0);\n        const middle = Number(row.middle_count ?? 0);\n        const senior = Number(row.senior_count ?? 0);\n        const knownAges = child + teen + young + middle + senior;\n        const avgAge = knownAges > 0 ? (child * 6 + teen * 16 + young * 30 + middle * 50 + senior * 70) / knownAges : null;\n        const facesTotal = Number(row.faces_total ?? 0);\n        statsMap.set(key, {\n            ...existing,\n            faceEvents: facesTotal,\n            facesDetected: facesTotal,\n            gender: {\n                male: Number(row.male_count ?? 0),\n                female: Number(row.female_count ?? 0),\n                unknown: Number(row.gender_unknown ?? 0)\n            },\n            age: {\n                avg: avgAge\n            },\n            glasses: {\n                yes: Number(row.glasses_yes ?? 0),\n                no: Number(row.glasses_no ?? 0),\n                unknown: Number(row.glasses_unknown ?? 0)\n            }\n        });\n        ageMap.set(key, {\n            child,\n            teen,\n            youngAdult: young,\n            middleAge: middle,\n            senior,\n            unknown: Number(row.age_unknown_count ?? 0)\n        });\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        ok: true,\n        zone,\n        channels: channelRows.map((row)=>{\n            const cameraId = row.camera_id;\n            const channelNo = Number(row.channel_no);\n            return {\n                cameraId,\n                cameraIp: row.ip,\n                cameraName: row.camera_name,\n                channelId: String(channelNo),\n                channelName: typeof row.channel_name === \"string\" && row.channel_name.trim() ? row.channel_name.trim() : `Channel ${channelNo}`,\n                zone: row.zone,\n                features: row.features ?? [],\n                capabilities: row.capabilities ?? null,\n                stats: statsMap.get(keyFor(cameraId, channelNo)) ?? emptyStats(),\n                ageBuckets: ageMap.get(keyFor(cameraId, channelNo)) ?? emptyAgeBuckets()\n            };\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBQ0k7QUFzQi9DLE1BQU1FLGFBQWEsSUFBcUI7UUFDdENDLFVBQVU7UUFDVkMsV0FBVztRQUNYQyxZQUFZO1FBQ1pDLGVBQWU7UUFDZkMsUUFBUTtZQUFFQyxNQUFNO1lBQUdDLFFBQVE7WUFBR0MsU0FBUztRQUFFO1FBQ3pDQyxLQUFLO1lBQUVDLEtBQUs7UUFBSztRQUNqQkMsU0FBUztZQUFFQyxLQUFLO1lBQUdDLElBQUk7WUFBR0wsU0FBUztRQUFFO1FBQ3JDTSxhQUFhO0lBQ2Y7QUFFQSxNQUFNQyxrQkFBa0IsSUFBbUI7UUFDekNDLE9BQU87UUFDUEMsTUFBTTtRQUNOQyxZQUFZO1FBQ1pDLFdBQVc7UUFDWEMsUUFBUTtRQUNSWixTQUFTO0lBQ1g7QUFFTyxlQUFlYSxJQUFJQyxHQUFZO0lBQ3BDLE1BQU1DLE1BQU0sSUFBSUMsSUFBSUYsSUFBSUMsR0FBRztJQUMzQixNQUFNRSxPQUFPRixJQUFJRyxZQUFZLENBQUNDLEdBQUcsQ0FBQyxTQUFTQztJQUMzQyxNQUFNQyxNQUFNTixJQUFJRyxZQUFZLENBQUNDLEdBQUcsQ0FBQztJQUNqQyxNQUFNRyxXQUFXRCxNQUFNQSxJQUFJRCxJQUFJLEtBQUs7SUFDcEMsSUFBSSxDQUFDSCxNQUFNO1FBQ1QsT0FBTzNCLGtGQUFZQSxDQUFDaUMsSUFBSSxDQUFDO1lBQUVDLElBQUk7WUFBT0MsT0FBTztRQUFnQixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNoRjtJQUVBLE1BQU1DLEtBQUtwQyxrREFBU0E7SUFDcEIsTUFBTXFDLGlCQUFpQixNQUFNRCxHQUFHRSxLQUFLLENBQ25DLENBQUM7Ozs7Ozs7Ozs7OzJEQVdzRCxDQUFDLEVBQ3hEO1FBQUNaO0tBQUs7SUFFUixNQUFNYSxjQUFjRixlQUFlRyxJQUFJO0lBV3ZDLE1BQU1DLGNBQWNWLFdBQ2hCLHNDQUNBO0lBQ0osTUFBTVcsZUFBZVgsV0FBVztRQUFDTDtRQUFNSztLQUFTLEdBQUc7UUFBQ0w7S0FBSztJQUN6RCxNQUFNaUIsYUFBYSxNQUFNUCxHQUFHRSxLQUFLLENBQy9CLENBQUM7Ozs7Ozs7O1dBUU0sRUFBRUcsWUFBWTt1Q0FDYyxDQUFDLEVBQ3BDQztJQUdGLE1BQU1FLFlBQVliLFdBQ2QsaUdBQ0E7SUFDSixNQUFNYyxhQUFhZCxXQUFXO1FBQUNMO1FBQU1LO0tBQVMsR0FBRztRQUFDTDtLQUFLO0lBQ3ZELE1BQU1vQixXQUFXLE1BQU1WLEdBQUdFLEtBQUssQ0FDN0IsQ0FBQzs7Ozs7O1dBTU0sRUFBRU0sVUFBVTt1Q0FDZ0IsQ0FBQyxFQUNwQ0M7SUFHRixNQUFNRSxpQkFBaUJoQixXQUNuQixzQ0FDQTtJQUNKLE1BQU1pQixrQkFBa0JqQixXQUFXO1FBQUNMO1FBQU1LO0tBQVMsR0FBRztRQUFDTDtLQUFLO0lBQzVELE1BQU11QixnQkFBZ0IsTUFBTWIsR0FBR0UsS0FBSyxDQUNsQyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7V0FrQk0sRUFBRVMsZUFBZTt1Q0FDVyxDQUFDLEVBQ3BDQztJQUdGLE1BQU1FLFdBQVcsSUFBSUM7SUFDckIsTUFBTUMsU0FBUyxJQUFJRDtJQUVuQixNQUFNRSxTQUFTLENBQUNDLFVBQWtCQyxZQUFzQixDQUFDLEVBQUVELFNBQVMsQ0FBQyxFQUFFQyxVQUFVLENBQUM7SUFFbEYsS0FBSyxNQUFNQyxPQUFPYixXQUFXSCxJQUFJLENBQUU7UUFDakMsTUFBTWMsV0FBV0UsSUFBSUMsU0FBUztRQUM5QixNQUFNRixZQUFZRyxPQUFPRixJQUFJRyxVQUFVO1FBQ3ZDVCxTQUFTVSxHQUFHLENBQUNQLE9BQU9DLFVBQVVDLFlBQVk7WUFDeENyRCxVQUFVd0QsT0FBT0YsSUFBSUssU0FBUyxJQUFJO1lBQ2xDMUQsV0FBV3VELE9BQU9GLElBQUlNLFVBQVUsSUFBSTtZQUNwQzFELFlBQVk7WUFDWkMsZUFBZTtZQUNmQyxRQUFRO2dCQUFFQyxNQUFNO2dCQUFHQyxRQUFRO2dCQUFHQyxTQUFTO1lBQUU7WUFDekNDLEtBQUs7Z0JBQUVDLEtBQUs7WUFBSztZQUNqQkMsU0FBUztnQkFBRUMsS0FBSztnQkFBR0MsSUFBSTtnQkFBR0wsU0FBUztZQUFFO1lBQ3JDTSxhQUFheUMsSUFBSU8saUJBQWlCLEdBQzlCLElBQUlDLEtBQUtSLElBQUlPLGlCQUFpQixFQUFFRSxXQUFXLEtBQzNDO1FBQ047SUFDRjtJQUVBLEtBQUssTUFBTVQsT0FBT1YsU0FBU04sSUFBSSxDQUFFO1FBQy9CLE1BQU1jLFdBQVdFLElBQUlDLFNBQVM7UUFDOUIsTUFBTUYsWUFBWUcsT0FBT0YsSUFBSUcsVUFBVTtRQUN2QyxNQUFNTyxNQUFNYixPQUFPQyxVQUFVQztRQUM3QixNQUFNWSxXQUFXakIsU0FBU3RCLEdBQUcsQ0FBQ3NDLFFBQVFqRTtRQUN0QyxNQUFNbUUsV0FBV1osSUFBSWEsZUFBZSxHQUNoQyxJQUFJTCxLQUFLUixJQUFJYSxlQUFlLEVBQUVKLFdBQVcsS0FDekM7UUFDSmYsU0FBU1UsR0FBRyxDQUFDTSxLQUFLO1lBQ2hCLEdBQUdDLFFBQVE7WUFDWC9ELFlBQVkrRCxTQUFTL0QsVUFBVTtZQUMvQkMsZUFBZThELFNBQVM5RCxhQUFhO1lBQ3JDVSxhQUFhb0QsU0FBU3BELFdBQVcsSUFBSXFEO1FBQ3ZDO0lBQ0Y7SUFFQSxLQUFLLE1BQU1aLE9BQU9QLGNBQWNULElBQUksQ0FBRTtRQUNwQyxNQUFNYyxXQUFXRSxJQUFJQyxTQUFTO1FBQzlCLE1BQU1GLFlBQVlHLE9BQU9GLElBQUlHLFVBQVU7UUFDdkMsTUFBTU8sTUFBTWIsT0FBT0MsVUFBVUM7UUFDN0IsTUFBTVksV0FBV2pCLFNBQVN0QixHQUFHLENBQUNzQyxRQUFRakU7UUFDdEMsTUFBTWdCLFFBQVF5QyxPQUFPRixJQUFJYyxXQUFXLElBQUk7UUFDeEMsTUFBTXBELE9BQU93QyxPQUFPRixJQUFJZSxVQUFVLElBQUk7UUFDdEMsTUFBTUMsUUFBUWQsT0FBT0YsSUFBSWlCLFdBQVcsSUFBSTtRQUN4QyxNQUFNQyxTQUFTaEIsT0FBT0YsSUFBSW1CLFlBQVksSUFBSTtRQUMxQyxNQUFNdEQsU0FBU3FDLE9BQU9GLElBQUlvQixZQUFZLElBQUk7UUFDMUMsTUFBTUMsWUFBWTVELFFBQVFDLE9BQU9zRCxRQUFRRSxTQUFTckQ7UUFDbEQsTUFBTXlELFNBQ0pELFlBQVksSUFDUixDQUFDNUQsUUFBUSxJQUFJQyxPQUFPLEtBQUtzRCxRQUFRLEtBQUtFLFNBQVMsS0FBS3JELFNBQVMsRUFBQyxJQUFLd0QsWUFDbkU7UUFDTixNQUFNRSxhQUFhckIsT0FBT0YsSUFBSXdCLFdBQVcsSUFBSTtRQUM3QzlCLFNBQVNVLEdBQUcsQ0FBQ00sS0FBSztZQUNoQixHQUFHQyxRQUFRO1lBQ1gvRCxZQUFZMkU7WUFDWjFFLGVBQWUwRTtZQUNmekUsUUFBUTtnQkFDTkMsTUFBTW1ELE9BQU9GLElBQUl5QixVQUFVLElBQUk7Z0JBQy9CekUsUUFBUWtELE9BQU9GLElBQUkwQixZQUFZLElBQUk7Z0JBQ25DekUsU0FBU2lELE9BQU9GLElBQUkyQixjQUFjLElBQUk7WUFDeEM7WUFDQXpFLEtBQUs7Z0JBQUVDLEtBQUttRTtZQUFPO1lBQ25CbEUsU0FBUztnQkFDUEMsS0FBSzZDLE9BQU9GLElBQUk0QixXQUFXLElBQUk7Z0JBQy9CdEUsSUFBSTRDLE9BQU9GLElBQUk2QixVQUFVLElBQUk7Z0JBQzdCNUUsU0FBU2lELE9BQU9GLElBQUk4QixlQUFlLElBQUk7WUFDekM7UUFDRjtRQUNBbEMsT0FBT1EsR0FBRyxDQUFDTSxLQUFLO1lBQ2RqRDtZQUNBQztZQUNBQyxZQUFZcUQ7WUFDWnBELFdBQVdzRDtZQUNYckQ7WUFDQVosU0FBU2lELE9BQU9GLElBQUkrQixpQkFBaUIsSUFBSTtRQUMzQztJQUNGO0lBRUEsT0FBT3hGLGtGQUFZQSxDQUFDaUMsSUFBSSxDQUFDO1FBQ3ZCQyxJQUFJO1FBQ0pQO1FBQ0E4RCxVQUFVakQsWUFBWWtELEdBQUcsQ0FBQyxDQUFDakM7WUFDekIsTUFBTUYsV0FBV0UsSUFBSUMsU0FBUztZQUM5QixNQUFNRixZQUFZRyxPQUFPRixJQUFJRyxVQUFVO1lBQ3ZDLE9BQU87Z0JBQ0xMO2dCQUNBb0MsVUFBVWxDLElBQUltQyxFQUFFO2dCQUNoQkMsWUFBWXBDLElBQUlxQyxXQUFXO2dCQUMzQkMsV0FBV0MsT0FBT3hDO2dCQUNsQnlDLGFBQ0UsT0FBT3hDLElBQUl5QyxZQUFZLEtBQUssWUFBWXpDLElBQUl5QyxZQUFZLENBQUNwRSxJQUFJLEtBQ3pEMkIsSUFBSXlDLFlBQVksQ0FBQ3BFLElBQUksS0FDckIsQ0FBQyxRQUFRLEVBQUUwQixVQUFVLENBQUM7Z0JBQzVCN0IsTUFBTThCLElBQUk5QixJQUFJO2dCQUNkd0UsVUFBVSxJQUFLQSxRQUFRLElBQWlCLEVBQUU7Z0JBQzFDQyxjQUFjM0MsSUFBSTJDLFlBQVksSUFBSTtnQkFDbENDLE9BQU9sRCxTQUFTdEIsR0FBRyxDQUFDeUIsT0FBT0MsVUFBVUMsZUFBZXREO2dCQUNwRG9HLFlBQVlqRCxPQUFPeEIsR0FBRyxDQUFDeUIsT0FBT0MsVUFBVUMsZUFBZXZDO1lBQ3pEO1FBQ0Y7SUFDRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtLWFuYWx5c2lzLy4vYXBwL2FwaS96b25lL2NoYW5uZWxzL3JvdXRlLnRzP2M5OTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBnZXREYlBvb2wgfSBmcm9tIFwiLi4vLi4vLi4vLi4vbGliL2RiXCI7XG5cbnR5cGUgQ2hhbm5lbFN0YXRzID0ge1xuICBwZW9wbGVJbjogbnVtYmVyO1xuICBwZW9wbGVPdXQ6IG51bWJlcjtcbiAgZmFjZUV2ZW50czogbnVtYmVyO1xuICBmYWNlc0RldGVjdGVkOiBudW1iZXI7XG4gIGdlbmRlcjogeyBtYWxlOiBudW1iZXI7IGZlbWFsZTogbnVtYmVyOyB1bmtub3duOiBudW1iZXIgfTtcbiAgYWdlOiB7IGF2ZzogbnVtYmVyIHwgbnVsbCB9O1xuICBnbGFzc2VzOiB7IHllczogbnVtYmVyOyBubzogbnVtYmVyOyB1bmtub3duOiBudW1iZXIgfTtcbiAgbGFzdEV2ZW50QXQ6IHN0cmluZyB8IG51bGw7XG59O1xuXG50eXBlIEFnZUJ1Y2tldHMgPSB7XG4gIGNoaWxkOiBudW1iZXI7XG4gIHRlZW46IG51bWJlcjtcbiAgeW91bmdBZHVsdDogbnVtYmVyO1xuICBtaWRkbGVBZ2U6IG51bWJlcjtcbiAgc2VuaW9yOiBudW1iZXI7XG4gIHVua25vd246IG51bWJlcjtcbn07XG5cbmNvbnN0IGVtcHR5U3RhdHMgPSAoKTogQ2hhbm5lbFN0YXRzID0+ICh7XG4gIHBlb3BsZUluOiAwLFxuICBwZW9wbGVPdXQ6IDAsXG4gIGZhY2VFdmVudHM6IDAsXG4gIGZhY2VzRGV0ZWN0ZWQ6IDAsXG4gIGdlbmRlcjogeyBtYWxlOiAwLCBmZW1hbGU6IDAsIHVua25vd246IDAgfSxcbiAgYWdlOiB7IGF2ZzogbnVsbCB9LFxuICBnbGFzc2VzOiB7IHllczogMCwgbm86IDAsIHVua25vd246IDAgfSxcbiAgbGFzdEV2ZW50QXQ6IG51bGxcbn0pO1xuXG5jb25zdCBlbXB0eUFnZUJ1Y2tldHMgPSAoKTogQWdlQnVja2V0cyA9PiAoe1xuICBjaGlsZDogMCxcbiAgdGVlbjogMCxcbiAgeW91bmdBZHVsdDogMCxcbiAgbWlkZGxlQWdlOiAwLFxuICBzZW5pb3I6IDAsXG4gIHVua25vd246IDBcbn0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcTogUmVxdWVzdCkge1xuICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xuICBjb25zdCB6b25lID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJ6b25lXCIpPy50cmltKCk7XG4gIGNvbnN0IGRheSA9IHVybC5zZWFyY2hQYXJhbXMuZ2V0KFwiZGF5XCIpO1xuICBjb25zdCBkYXlQYXJhbSA9IGRheSA/IGRheS50cmltKCkgOiBcIlwiO1xuICBpZiAoIXpvbmUpIHtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogZmFsc2UsIGVycm9yOiBcIk1pc3Npbmcgem9uZS5cIiB9LCB7IHN0YXR1czogNDAwIH0pO1xuICB9XG5cbiAgY29uc3QgZGIgPSBnZXREYlBvb2woKTtcbiAgY29uc3QgY2hhbm5lbHNSZXN1bHQgPSBhd2FpdCBkYi5xdWVyeShcbiAgICBgc2VsZWN0IGMuaWQgYXMgY2FtZXJhX2lkLFxuICAgICAgICAgICAgYy5pcCxcbiAgICAgICAgICAgIGMubmFtZSBhcyBjYW1lcmFfbmFtZSxcbiAgICAgICAgICAgIGNoLmNoYW5uZWxfbm8sXG4gICAgICAgICAgICBjaC5uYW1lIGFzIGNoYW5uZWxfbmFtZSxcbiAgICAgICAgICAgIGNoLnpvbmUsXG4gICAgICAgICAgICBjaC5mZWF0dXJlcyxcbiAgICAgICAgICAgIGNoLmNhcGFiaWxpdGllc1xuICAgICBmcm9tIGNoYW5uZWxzIGNoXG4gICAgIGpvaW4gY2FtZXJhcyBjIG9uIGMuaWQgPSBjaC5jYW1lcmFfaWRcbiAgICAgd2hlcmUgY2guem9uZSA9ICQxXG4gICAgIG9yZGVyIGJ5IGNvYWxlc2NlKGMubmFtZSwgYy5pcCkgYXNjLCBjaC5jaGFubmVsX25vIGFzY2AsXG4gICAgW3pvbmVdXG4gICk7XG4gIGNvbnN0IGNoYW5uZWxSb3dzID0gY2hhbm5lbHNSZXN1bHQucm93cyBhcyBBcnJheTx7XG4gICAgY2FtZXJhX2lkOiBzdHJpbmc7XG4gICAgaXA6IHN0cmluZztcbiAgICBjYW1lcmFfbmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgICBjaGFubmVsX25vOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgY2hhbm5lbF9uYW1lOiBzdHJpbmcgfCBudWxsO1xuICAgIHpvbmU6IHN0cmluZyB8IG51bGw7XG4gICAgZmVhdHVyZXM6IHN0cmluZ1tdIHwgbnVsbDtcbiAgICBjYXBhYmlsaXRpZXM6IHVua25vd247XG4gIH0+O1xuXG4gIGNvbnN0IHBlb3BsZVdoZXJlID0gZGF5UGFyYW1cbiAgICA/IFwiY2guem9uZSA9ICQxIGFuZCBwLmRheSA9ICQyOjpkYXRlXCJcbiAgICA6IFwiY2guem9uZSA9ICQxIGFuZCBwLmRheSA+PSBjdXJyZW50X2RhdGVcIjtcbiAgY29uc3QgcGVvcGxlUGFyYW1zID0gZGF5UGFyYW0gPyBbem9uZSwgZGF5UGFyYW1dIDogW3pvbmVdO1xuICBjb25zdCBwZW9wbGVSb3dzID0gYXdhaXQgZGIucXVlcnkoXG4gICAgYHNlbGVjdCBwLmNhbWVyYV9pZCxcbiAgICAgICAgICAgIHAuY2hhbm5lbF9ubyxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShwLmluX2NvdW50KSwgMCkgYXMgcGVvcGxlX2luLFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKHAub3V0X2NvdW50KSwgMCkgYXMgcGVvcGxlX291dCxcbiAgICAgICAgICAgIG1heChwLmRheSkgYXMgbGFzdF9wZW9wbGVfZXZlbnRcbiAgICAgZnJvbSBjb3VudGluZ19zdGF0c19kYWlseSBwXG4gICAgIGpvaW4gY2hhbm5lbHMgY2hcbiAgICAgICBvbiBjaC5jYW1lcmFfaWQgPSBwLmNhbWVyYV9pZCBhbmQgY2guY2hhbm5lbF9ubyA9IHAuY2hhbm5lbF9ub1xuICAgICB3aGVyZSAke3Blb3BsZVdoZXJlfVxuICAgICBncm91cCBieSBwLmNhbWVyYV9pZCwgcC5jaGFubmVsX25vYCxcbiAgICBwZW9wbGVQYXJhbXNcbiAgKTtcblxuICBjb25zdCBmYWNlV2hlcmUgPSBkYXlQYXJhbVxuICAgID8gXCJjaC56b25lID0gJDEgYW5kIGYuYnVja2V0X3N0YXJ0ID49ICQyOjpkYXRlIGFuZCBmLmJ1Y2tldF9zdGFydCA8ICQyOjpkYXRlICsgaW50ZXJ2YWwgJzEgZGF5J1wiXG4gICAgOiBcImNoLnpvbmUgPSAkMVwiO1xuICBjb25zdCBmYWNlUGFyYW1zID0gZGF5UGFyYW0gPyBbem9uZSwgZGF5UGFyYW1dIDogW3pvbmVdO1xuICBjb25zdCBmYWNlUm93cyA9IGF3YWl0IGRiLnF1ZXJ5KFxuICAgIGBzZWxlY3QgZi5jYW1lcmFfaWQsXG4gICAgICAgICAgICBmLmNoYW5uZWxfbm8sXG4gICAgICAgICAgICBtYXgoZi5idWNrZXRfc3RhcnQpIGFzIGxhc3RfZmFjZV9ldmVudFxuICAgICBmcm9tIGZhY2Vfc3RhdHNfaG91cmx5IGZcbiAgICAgam9pbiBjaGFubmVscyBjaFxuICAgICAgIG9uIGNoLmNhbWVyYV9pZCA9IGYuY2FtZXJhX2lkIGFuZCBjaC5jaGFubmVsX25vID0gZi5jaGFubmVsX25vXG4gICAgIHdoZXJlICR7ZmFjZVdoZXJlfVxuICAgICBncm91cCBieSBmLmNhbWVyYV9pZCwgZi5jaGFubmVsX25vYCxcbiAgICBmYWNlUGFyYW1zXG4gICk7XG5cbiAgY29uc3QgYXR0cmlidXRlV2hlcmUgPSBkYXlQYXJhbVxuICAgID8gXCJjaC56b25lID0gJDEgYW5kIGYuZGF5ID0gJDI6OmRhdGVcIlxuICAgIDogXCJjaC56b25lID0gJDEgYW5kIGYuZGF5ID49IGN1cnJlbnRfZGF0ZVwiO1xuICBjb25zdCBhdHRyaWJ1dGVQYXJhbXMgPSBkYXlQYXJhbSA/IFt6b25lLCBkYXlQYXJhbV0gOiBbem9uZV07XG4gIGNvbnN0IGF0dHJpYnV0ZVJvd3MgPSBhd2FpdCBkYi5xdWVyeShcbiAgICBgc2VsZWN0IGYuY2FtZXJhX2lkLFxuICAgICAgICAgICAgZi5jaGFubmVsX25vLFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYudG90YWwpLCAwKSBhcyBmYWNlc190b3RhbCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLm1hbGUpLCAwKSBhcyBtYWxlX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuZmVtYWxlKSwgMCkgYXMgZmVtYWxlX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYudW5rbm93bl9nZW5kZXIpLCAwKSBhcyBnZW5kZXJfdW5rbm93bixcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmdsYXNzZXNfeWVzKSwgMCkgYXMgZ2xhc3Nlc195ZXMsXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5nbGFzc2VzX25vKSwgMCkgYXMgZ2xhc3Nlc19ubyxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmdsYXNzZXNfdW5rbm93biksIDApIGFzIGdsYXNzZXNfdW5rbm93bixcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmFnZV9jaGlsZCksIDApIGFzIGNoaWxkX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuYWdlX3RlZW4pLCAwKSBhcyB0ZWVuX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuYWdlX3lvdW5nX2FkdWx0KSwgMCkgYXMgeW91bmdfY291bnQsXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5hZ2VfbWlkZGxlX2FnZSksIDApIGFzIG1pZGRsZV9jb3VudCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmFnZV9zZW5pb3IpLCAwKSBhcyBzZW5pb3JfY291bnQsXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5hZ2VfdW5rbm93biksIDApIGFzIGFnZV91bmtub3duX2NvdW50XG4gICAgIGZyb20gZmFjZV9zdGF0c19kYWlseSBmXG4gICAgIGpvaW4gY2hhbm5lbHMgY2hcbiAgICAgICBvbiBjaC5jYW1lcmFfaWQgPSBmLmNhbWVyYV9pZCBhbmQgY2guY2hhbm5lbF9ubyA9IGYuY2hhbm5lbF9ub1xuICAgICB3aGVyZSAke2F0dHJpYnV0ZVdoZXJlfVxuICAgICBncm91cCBieSBmLmNhbWVyYV9pZCwgZi5jaGFubmVsX25vYCxcbiAgICBhdHRyaWJ1dGVQYXJhbXNcbiAgKTtcblxuICBjb25zdCBzdGF0c01hcCA9IG5ldyBNYXA8c3RyaW5nLCBDaGFubmVsU3RhdHM+KCk7XG4gIGNvbnN0IGFnZU1hcCA9IG5ldyBNYXA8c3RyaW5nLCBBZ2VCdWNrZXRzPigpO1xuXG4gIGNvbnN0IGtleUZvciA9IChjYW1lcmFJZDogc3RyaW5nLCBjaGFubmVsTm86IG51bWJlcikgPT4gYCR7Y2FtZXJhSWR9OiR7Y2hhbm5lbE5vfWA7XG5cbiAgZm9yIChjb25zdCByb3cgb2YgcGVvcGxlUm93cy5yb3dzKSB7XG4gICAgY29uc3QgY2FtZXJhSWQgPSByb3cuY2FtZXJhX2lkIGFzIHN0cmluZztcbiAgICBjb25zdCBjaGFubmVsTm8gPSBOdW1iZXIocm93LmNoYW5uZWxfbm8pO1xuICAgIHN0YXRzTWFwLnNldChrZXlGb3IoY2FtZXJhSWQsIGNoYW5uZWxObyksIHtcbiAgICAgIHBlb3BsZUluOiBOdW1iZXIocm93LnBlb3BsZV9pbiA/PyAwKSxcbiAgICAgIHBlb3BsZU91dDogTnVtYmVyKHJvdy5wZW9wbGVfb3V0ID8/IDApLFxuICAgICAgZmFjZUV2ZW50czogMCxcbiAgICAgIGZhY2VzRGV0ZWN0ZWQ6IDAsXG4gICAgICBnZW5kZXI6IHsgbWFsZTogMCwgZmVtYWxlOiAwLCB1bmtub3duOiAwIH0sXG4gICAgICBhZ2U6IHsgYXZnOiBudWxsIH0sXG4gICAgICBnbGFzc2VzOiB7IHllczogMCwgbm86IDAsIHVua25vd246IDAgfSxcbiAgICAgIGxhc3RFdmVudEF0OiByb3cubGFzdF9wZW9wbGVfZXZlbnRcbiAgICAgICAgPyBuZXcgRGF0ZShyb3cubGFzdF9wZW9wbGVfZXZlbnQpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgOiBudWxsXG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHJvdyBvZiBmYWNlUm93cy5yb3dzKSB7XG4gICAgY29uc3QgY2FtZXJhSWQgPSByb3cuY2FtZXJhX2lkIGFzIHN0cmluZztcbiAgICBjb25zdCBjaGFubmVsTm8gPSBOdW1iZXIocm93LmNoYW5uZWxfbm8pO1xuICAgIGNvbnN0IGtleSA9IGtleUZvcihjYW1lcmFJZCwgY2hhbm5lbE5vKTtcbiAgICBjb25zdCBleGlzdGluZyA9IHN0YXRzTWFwLmdldChrZXkpID8/IGVtcHR5U3RhdHMoKTtcbiAgICBjb25zdCBsYXN0RmFjZSA9IHJvdy5sYXN0X2ZhY2VfZXZlbnRcbiAgICAgID8gbmV3IERhdGUocm93Lmxhc3RfZmFjZV9ldmVudCkudG9JU09TdHJpbmcoKVxuICAgICAgOiBudWxsO1xuICAgIHN0YXRzTWFwLnNldChrZXksIHtcbiAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgZmFjZUV2ZW50czogZXhpc3RpbmcuZmFjZUV2ZW50cyxcbiAgICAgIGZhY2VzRGV0ZWN0ZWQ6IGV4aXN0aW5nLmZhY2VzRGV0ZWN0ZWQsXG4gICAgICBsYXN0RXZlbnRBdDogZXhpc3RpbmcubGFzdEV2ZW50QXQgfHwgbGFzdEZhY2VcbiAgICB9KTtcbiAgfVxuXG4gIGZvciAoY29uc3Qgcm93IG9mIGF0dHJpYnV0ZVJvd3Mucm93cykge1xuICAgIGNvbnN0IGNhbWVyYUlkID0gcm93LmNhbWVyYV9pZCBhcyBzdHJpbmc7XG4gICAgY29uc3QgY2hhbm5lbE5vID0gTnVtYmVyKHJvdy5jaGFubmVsX25vKTtcbiAgICBjb25zdCBrZXkgPSBrZXlGb3IoY2FtZXJhSWQsIGNoYW5uZWxObyk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBzdGF0c01hcC5nZXQoa2V5KSA/PyBlbXB0eVN0YXRzKCk7XG4gICAgY29uc3QgY2hpbGQgPSBOdW1iZXIocm93LmNoaWxkX2NvdW50ID8/IDApO1xuICAgIGNvbnN0IHRlZW4gPSBOdW1iZXIocm93LnRlZW5fY291bnQgPz8gMCk7XG4gICAgY29uc3QgeW91bmcgPSBOdW1iZXIocm93LnlvdW5nX2NvdW50ID8/IDApO1xuICAgIGNvbnN0IG1pZGRsZSA9IE51bWJlcihyb3cubWlkZGxlX2NvdW50ID8/IDApO1xuICAgIGNvbnN0IHNlbmlvciA9IE51bWJlcihyb3cuc2VuaW9yX2NvdW50ID8/IDApO1xuICAgIGNvbnN0IGtub3duQWdlcyA9IGNoaWxkICsgdGVlbiArIHlvdW5nICsgbWlkZGxlICsgc2VuaW9yO1xuICAgIGNvbnN0IGF2Z0FnZSA9XG4gICAgICBrbm93bkFnZXMgPiAwXG4gICAgICAgID8gKGNoaWxkICogNiArIHRlZW4gKiAxNiArIHlvdW5nICogMzAgKyBtaWRkbGUgKiA1MCArIHNlbmlvciAqIDcwKSAvIGtub3duQWdlc1xuICAgICAgICA6IG51bGw7XG4gICAgY29uc3QgZmFjZXNUb3RhbCA9IE51bWJlcihyb3cuZmFjZXNfdG90YWwgPz8gMCk7XG4gICAgc3RhdHNNYXAuc2V0KGtleSwge1xuICAgICAgLi4uZXhpc3RpbmcsXG4gICAgICBmYWNlRXZlbnRzOiBmYWNlc1RvdGFsLFxuICAgICAgZmFjZXNEZXRlY3RlZDogZmFjZXNUb3RhbCxcbiAgICAgIGdlbmRlcjoge1xuICAgICAgICBtYWxlOiBOdW1iZXIocm93Lm1hbGVfY291bnQgPz8gMCksXG4gICAgICAgIGZlbWFsZTogTnVtYmVyKHJvdy5mZW1hbGVfY291bnQgPz8gMCksXG4gICAgICAgIHVua25vd246IE51bWJlcihyb3cuZ2VuZGVyX3Vua25vd24gPz8gMClcbiAgICAgIH0sXG4gICAgICBhZ2U6IHsgYXZnOiBhdmdBZ2UgfSxcbiAgICAgIGdsYXNzZXM6IHtcbiAgICAgICAgeWVzOiBOdW1iZXIocm93LmdsYXNzZXNfeWVzID8/IDApLFxuICAgICAgICBubzogTnVtYmVyKHJvdy5nbGFzc2VzX25vID8/IDApLFxuICAgICAgICB1bmtub3duOiBOdW1iZXIocm93LmdsYXNzZXNfdW5rbm93biA/PyAwKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFnZU1hcC5zZXQoa2V5LCB7XG4gICAgICBjaGlsZCxcbiAgICAgIHRlZW4sXG4gICAgICB5b3VuZ0FkdWx0OiB5b3VuZyxcbiAgICAgIG1pZGRsZUFnZTogbWlkZGxlLFxuICAgICAgc2VuaW9yLFxuICAgICAgdW5rbm93bjogTnVtYmVyKHJvdy5hZ2VfdW5rbm93bl9jb3VudCA/PyAwKVxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICBvazogdHJ1ZSxcbiAgICB6b25lLFxuICAgIGNoYW5uZWxzOiBjaGFubmVsUm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgY29uc3QgY2FtZXJhSWQgPSByb3cuY2FtZXJhX2lkIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGNoYW5uZWxObyA9IE51bWJlcihyb3cuY2hhbm5lbF9ubyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYW1lcmFJZCxcbiAgICAgICAgY2FtZXJhSXA6IHJvdy5pcCBhcyBzdHJpbmcsXG4gICAgICAgIGNhbWVyYU5hbWU6IHJvdy5jYW1lcmFfbmFtZSBhcyBzdHJpbmcgfCBudWxsLFxuICAgICAgICBjaGFubmVsSWQ6IFN0cmluZyhjaGFubmVsTm8pLFxuICAgICAgICBjaGFubmVsTmFtZTpcbiAgICAgICAgICB0eXBlb2Ygcm93LmNoYW5uZWxfbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiByb3cuY2hhbm5lbF9uYW1lLnRyaW0oKVxuICAgICAgICAgICAgPyByb3cuY2hhbm5lbF9uYW1lLnRyaW0oKVxuICAgICAgICAgICAgOiBgQ2hhbm5lbCAke2NoYW5uZWxOb31gLFxuICAgICAgICB6b25lOiByb3cuem9uZSBhcyBzdHJpbmcgfCBudWxsLFxuICAgICAgICBmZWF0dXJlczogKHJvdy5mZWF0dXJlcyBhcyBzdHJpbmdbXSkgPz8gW10sXG4gICAgICAgIGNhcGFiaWxpdGllczogcm93LmNhcGFiaWxpdGllcyA/PyBudWxsLFxuICAgICAgICBzdGF0czogc3RhdHNNYXAuZ2V0KGtleUZvcihjYW1lcmFJZCwgY2hhbm5lbE5vKSkgPz8gZW1wdHlTdGF0cygpLFxuICAgICAgICBhZ2VCdWNrZXRzOiBhZ2VNYXAuZ2V0KGtleUZvcihjYW1lcmFJZCwgY2hhbm5lbE5vKSkgPz8gZW1wdHlBZ2VCdWNrZXRzKClcbiAgICAgIH07XG4gICAgfSlcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0RGJQb29sIiwiZW1wdHlTdGF0cyIsInBlb3BsZUluIiwicGVvcGxlT3V0IiwiZmFjZUV2ZW50cyIsImZhY2VzRGV0ZWN0ZWQiLCJnZW5kZXIiLCJtYWxlIiwiZmVtYWxlIiwidW5rbm93biIsImFnZSIsImF2ZyIsImdsYXNzZXMiLCJ5ZXMiLCJubyIsImxhc3RFdmVudEF0IiwiZW1wdHlBZ2VCdWNrZXRzIiwiY2hpbGQiLCJ0ZWVuIiwieW91bmdBZHVsdCIsIm1pZGRsZUFnZSIsInNlbmlvciIsIkdFVCIsInJlcSIsInVybCIsIlVSTCIsInpvbmUiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJ0cmltIiwiZGF5IiwiZGF5UGFyYW0iLCJqc29uIiwib2siLCJlcnJvciIsInN0YXR1cyIsImRiIiwiY2hhbm5lbHNSZXN1bHQiLCJxdWVyeSIsImNoYW5uZWxSb3dzIiwicm93cyIsInBlb3BsZVdoZXJlIiwicGVvcGxlUGFyYW1zIiwicGVvcGxlUm93cyIsImZhY2VXaGVyZSIsImZhY2VQYXJhbXMiLCJmYWNlUm93cyIsImF0dHJpYnV0ZVdoZXJlIiwiYXR0cmlidXRlUGFyYW1zIiwiYXR0cmlidXRlUm93cyIsInN0YXRzTWFwIiwiTWFwIiwiYWdlTWFwIiwia2V5Rm9yIiwiY2FtZXJhSWQiLCJjaGFubmVsTm8iLCJyb3ciLCJjYW1lcmFfaWQiLCJOdW1iZXIiLCJjaGFubmVsX25vIiwic2V0IiwicGVvcGxlX2luIiwicGVvcGxlX291dCIsImxhc3RfcGVvcGxlX2V2ZW50IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwia2V5IiwiZXhpc3RpbmciLCJsYXN0RmFjZSIsImxhc3RfZmFjZV9ldmVudCIsImNoaWxkX2NvdW50IiwidGVlbl9jb3VudCIsInlvdW5nIiwieW91bmdfY291bnQiLCJtaWRkbGUiLCJtaWRkbGVfY291bnQiLCJzZW5pb3JfY291bnQiLCJrbm93bkFnZXMiLCJhdmdBZ2UiLCJmYWNlc1RvdGFsIiwiZmFjZXNfdG90YWwiLCJtYWxlX2NvdW50IiwiZmVtYWxlX2NvdW50IiwiZ2VuZGVyX3Vua25vd24iLCJnbGFzc2VzX3llcyIsImdsYXNzZXNfbm8iLCJnbGFzc2VzX3Vua25vd24iLCJhZ2VfdW5rbm93bl9jb3VudCIsImNoYW5uZWxzIiwibWFwIiwiY2FtZXJhSXAiLCJpcCIsImNhbWVyYU5hbWUiLCJjYW1lcmFfbmFtZSIsImNoYW5uZWxJZCIsIlN0cmluZyIsImNoYW5uZWxOYW1lIiwiY2hhbm5lbF9uYW1lIiwiZmVhdHVyZXMiLCJjYXBhYmlsaXRpZXMiLCJzdGF0cyIsImFnZUJ1Y2tldHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/zone/channels/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDbPool: () => (/* binding */ getDbPool)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\nlet pool = null;\nfunction getDbPool() {\n    if (!pool) {\n        const connectionString = process.env.DATABASE_URL;\n        if (!connectionString) {\n            throw new Error(\"DATABASE_URL is not set.\");\n        }\n        pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n            connectionString\n        });\n    }\n    return pool;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBCO0FBRTFCLElBQUlDLE9BQW9CO0FBRWpCLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRCxNQUFNO1FBQ1QsTUFBTUUsbUJBQW1CQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7UUFDakQsSUFBSSxDQUFDSCxrQkFBa0I7WUFDckIsTUFBTSxJQUFJSSxNQUFNO1FBQ2xCO1FBQ0FOLE9BQU8sSUFBSUQsb0NBQUlBLENBQUM7WUFBRUc7UUFBaUI7SUFDckM7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtLWFuYWx5c2lzLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gXCJwZ1wiO1xuXG5sZXQgcG9vbDogUG9vbCB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGJQb29sKCk6IFBvb2wge1xuICBpZiAoIXBvb2wpIHtcbiAgICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuICAgIGlmICghY29ubmVjdGlvblN0cmluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiREFUQUJBU0VfVVJMIGlzIG5vdCBzZXQuXCIpO1xuICAgIH1cbiAgICBwb29sID0gbmV3IFBvb2woeyBjb25uZWN0aW9uU3RyaW5nIH0pO1xuICB9XG4gIHJldHVybiBwb29sO1xufVxuIl0sIm5hbWVzIjpbIlBvb2wiLCJwb29sIiwiZ2V0RGJQb29sIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();