"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/zone/channels/route";
exports.ids = ["app/api/zone/channels/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("pg");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_ameralyasin_Desktop_cam_analysis_app_api_zone_channels_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/zone/channels/route.ts */ \"(rsc)/./app/api/zone/channels/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/zone/channels/route\",\n        pathname: \"/api/zone/channels\",\n        filename: \"route\",\n        bundlePath: \"app/api/zone/channels/route\"\n    },\n    resolvedPagePath: \"/Users/ameralyasin/Desktop/cam analysis/app/api/zone/channels/route.ts\",\n    nextConfigOutput,\n    userland: _Users_ameralyasin_Desktop_cam_analysis_app_api_zone_channels_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/zone/channels/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ6b25lJTJGY2hhbm5lbHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnpvbmUlMkZjaGFubmVscyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnpvbmUlMkZjaGFubmVscyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmFtZXJhbHlhc2luJTJGRGVza3RvcCUyRmNhbSUyMGFuYWx5c2lzJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRmFtZXJhbHlhc2luJTJGRGVza3RvcCUyRmNhbSUyMGFuYWx5c2lzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3NCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDNko7O0FBRTdKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtLWFuYWx5c2lzLz80NjVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9hbWVyYWx5YXNpbi9EZXNrdG9wL2NhbSBhbmFseXNpcy9hcHAvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS96b25lL2NoYW5uZWxzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS96b25lL2NoYW5uZWxzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL2FtZXJhbHlhc2luL0Rlc2t0b3AvY2FtIGFuYWx5c2lzL2FwcC9hcGkvem9uZS9jaGFubmVscy9yb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS96b25lL2NoYW5uZWxzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/zone/channels/route.ts":
/*!****************************************!*\
  !*** ./app/api/zone/channels/route.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/db */ \"(rsc)/./lib/db.ts\");\n\n\nconst emptyStats = ()=>({\n        peopleIn: 0,\n        peopleOut: 0,\n        faceEvents: 0,\n        facesDetected: 0,\n        gender: {\n            male: 0,\n            female: 0,\n            unknown: 0\n        },\n        age: {\n            avg: null\n        },\n        glasses: {\n            yes: 0,\n            no: 0,\n            unknown: 0\n        },\n        lastEventAt: null\n    });\nconst emptyAgeBuckets = ()=>({\n        child: 0,\n        teen: 0,\n        youngAdult: 0,\n        middleAge: 0,\n        senior: 0,\n        unknown: 0\n    });\nasync function GET(req) {\n    const url = new URL(req.url);\n    const zone = url.searchParams.get(\"zone\")?.trim();\n    const day = url.searchParams.get(\"day\");\n    const dayParam = day ? day.trim() : \"\";\n    if (!zone) {\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            ok: false,\n            error: \"Missing zone.\"\n        }, {\n            status: 400\n        });\n    }\n    const db = (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.getDbPool)();\n    const channelsResult = await db.query(`select c.id as camera_id,\n            c.ip,\n            c.name as camera_name,\n            ch.channel_no,\n            ch.name as channel_name,\n            ch.zone,\n            ch.features,\n            ch.capabilities\n     from channels ch\n     join cameras c on c.id = ch.camera_id\n     where ch.zone = $1\n     order by coalesce(c.name, c.ip) asc, ch.channel_no asc`, [\n        zone\n    ]);\n    const peopleWhere = dayParam ? \"ch.zone = $1 and p.day = $2::date\" : \"ch.zone = $1 and p.day >= current_date\";\n    const peopleParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const peopleRows = await db.query(`select p.camera_id,\n            p.channel_no,\n            coalesce(sum(p.in_count), 0) as people_in,\n            coalesce(sum(p.out_count), 0) as people_out,\n            max(p.day) as last_people_event\n     from counting_stats_daily p\n     join channels ch\n       on ch.camera_id = p.camera_id and ch.channel_no = p.channel_no\n     where ${peopleWhere}\n     group by p.camera_id, p.channel_no`, peopleParams);\n    const faceWhere = dayParam ? \"ch.zone = $1 and f.bucket_start >= $2::date and f.bucket_start < $2::date + interval '1 day'\" : \"ch.zone = $1\";\n    const faceParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const faceRows = await db.query(`select f.camera_id,\n            f.channel_no,\n            max(f.bucket_start) as last_face_event\n     from face_stats_hourly f\n     join channels ch\n       on ch.camera_id = f.camera_id and ch.channel_no = f.channel_no\n     where ${faceWhere}\n     group by f.camera_id, f.channel_no`, faceParams);\n    const attributeWhere = dayParam ? \"ch.zone = $1 and f.day = $2::date\" : \"ch.zone = $1 and f.day >= current_date\";\n    const attributeParams = dayParam ? [\n        zone,\n        dayParam\n    ] : [\n        zone\n    ];\n    const attributeRows = await db.query(`select f.camera_id,\n            f.channel_no,\n            coalesce(sum(f.total), 0) as faces_total,\n            coalesce(sum(f.male), 0) as male_count,\n            coalesce(sum(f.female), 0) as female_count,\n            coalesce(sum(f.unknown_gender), 0) as gender_unknown,\n            coalesce(sum(f.glasses_yes), 0) as glasses_yes,\n            coalesce(sum(f.glasses_no), 0) as glasses_no,\n            coalesce(sum(f.glasses_unknown), 0) as glasses_unknown,\n            coalesce(sum(f.age_child), 0) as child_count,\n            coalesce(sum(f.age_teen), 0) as teen_count,\n            coalesce(sum(f.age_young_adult), 0) as young_count,\n            coalesce(sum(f.age_middle_age), 0) as middle_count,\n            coalesce(sum(f.age_senior), 0) as senior_count,\n            coalesce(sum(f.age_unknown), 0) as age_unknown_count\n     from face_stats_daily f\n     join channels ch\n       on ch.camera_id = f.camera_id and ch.channel_no = f.channel_no\n     where ${attributeWhere}\n     group by f.camera_id, f.channel_no`, attributeParams);\n    const statsMap = new Map();\n    const ageMap = new Map();\n    const keyFor = (cameraId, channelNo)=>`${cameraId}:${channelNo}`;\n    for (const row of peopleRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        statsMap.set(keyFor(cameraId, channelNo), {\n            peopleIn: Number(row.people_in ?? 0),\n            peopleOut: Number(row.people_out ?? 0),\n            faceEvents: 0,\n            facesDetected: 0,\n            gender: {\n                male: 0,\n                female: 0,\n                unknown: 0\n            },\n            age: {\n                avg: null\n            },\n            glasses: {\n                yes: 0,\n                no: 0,\n                unknown: 0\n            },\n            lastEventAt: row.last_people_event ? new Date(row.last_people_event).toISOString() : null\n        });\n    }\n    for (const row of faceRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        const key = keyFor(cameraId, channelNo);\n        const existing = statsMap.get(key) ?? emptyStats();\n        const lastFace = row.last_face_event ? new Date(row.last_face_event).toISOString() : null;\n        statsMap.set(key, {\n            ...existing,\n            faceEvents: existing.faceEvents,\n            facesDetected: existing.facesDetected,\n            lastEventAt: existing.lastEventAt || lastFace\n        });\n    }\n    for (const row of attributeRows.rows){\n        const cameraId = row.camera_id;\n        const channelNo = Number(row.channel_no);\n        const key = keyFor(cameraId, channelNo);\n        const existing = statsMap.get(key) ?? emptyStats();\n        const child = Number(row.child_count ?? 0);\n        const teen = Number(row.teen_count ?? 0);\n        const young = Number(row.young_count ?? 0);\n        const middle = Number(row.middle_count ?? 0);\n        const senior = Number(row.senior_count ?? 0);\n        const knownAges = child + teen + young + middle + senior;\n        const avgAge = knownAges > 0 ? (child * 6 + teen * 16 + young * 30 + middle * 50 + senior * 70) / knownAges : null;\n        const facesTotal = Number(row.faces_total ?? 0);\n        statsMap.set(key, {\n            ...existing,\n            faceEvents: facesTotal,\n            facesDetected: facesTotal,\n            gender: {\n                male: Number(row.male_count ?? 0),\n                female: Number(row.female_count ?? 0),\n                unknown: Number(row.gender_unknown ?? 0)\n            },\n            age: {\n                avg: avgAge\n            },\n            glasses: {\n                yes: Number(row.glasses_yes ?? 0),\n                no: Number(row.glasses_no ?? 0),\n                unknown: Number(row.glasses_unknown ?? 0)\n            }\n        });\n        ageMap.set(key, {\n            child,\n            teen,\n            youngAdult: young,\n            middleAge: middle,\n            senior,\n            unknown: Number(row.age_unknown_count ?? 0)\n        });\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n        ok: true,\n        zone,\n        channels: channelsResult.rows.map((row)=>{\n            const cameraId = row.camera_id;\n            const channelNo = Number(row.channel_no);\n            return {\n                cameraId,\n                cameraIp: row.ip,\n                cameraName: row.camera_name,\n                channelId: String(channelNo),\n                channelName: typeof row.channel_name === \"string\" && row.channel_name.trim() ? row.channel_name.trim() : `Channel ${channelNo}`,\n                zone: row.zone,\n                features: row.features ?? [],\n                capabilities: row.capabilities ?? null,\n                stats: statsMap.get(keyFor(cameraId, channelNo)) ?? emptyStats(),\n                ageBuckets: ageMap.get(keyFor(cameraId, channelNo)) ?? emptyAgeBuckets()\n            };\n        })\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVbkMsSUFBSW9DLEVBQUU7Z0JBQ2hCQyxZQUFZckMsSUFBSXNDLFdBQVc7Z0JBQzNCQyxXQUFXQyxPQUFPekM7Z0JBQ2xCMEMsYUFDRSxPQUFPekMsSUFBSTBDLFlBQVksS0FBSyxZQUFZMUMsSUFBSTBDLFlBQVksQ0FBQ25FLElBQUksS0FDekR5QixJQUFJMEMsWUFBWSxDQUFDbkUsSUFBSSxLQUNyQixDQUFDLFFBQVEsRUFBRXdCLFVBQVUsQ0FBQztnQkFDNUIzQixNQUFNNEIsSUFBSTVCLElBQUk7Z0JBQ2R1RSxVQUFVLElBQUtBLFFBQVEsSUFBaUIsRUFBRTtnQkFDMUNDLGNBQWM1QyxJQUFJNEMsWUFBWSxJQUFJO2dCQUNsQ0MsT0FBT25ELFNBQVNwQixHQUFHLENBQUN1QixPQUFPQyxVQUFVQyxlQUFlcEQ7Z0JBQ3BEbUcsWUFBWWxELE9BQU90QixHQUFHLENBQUN1QixPQUFPQyxVQUFVQyxlQUFlckM7WUFDekQ7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYW0tYW5hbHlzaXMvLi9hcHAvYXBpL3pvbmUvY2hhbm5lbHMvcm91dGUudHM/Yzk5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGdldERiUG9vbCB9IGZyb20gXCIuLi8uLi8uLi8uLi9saWIvZGJcIjtcblxudHlwZSBDaGFubmVsU3RhdHMgPSB7XG4gIHBlb3BsZUluOiBudW1iZXI7XG4gIHBlb3BsZU91dDogbnVtYmVyO1xuICBmYWNlRXZlbnRzOiBudW1iZXI7XG4gIGZhY2VzRGV0ZWN0ZWQ6IG51bWJlcjtcbiAgZ2VuZGVyOiB7IG1hbGU6IG51bWJlcjsgZmVtYWxlOiBudW1iZXI7IHVua25vd246IG51bWJlciB9O1xuICBhZ2U6IHsgYXZnOiBudW1iZXIgfCBudWxsIH07XG4gIGdsYXNzZXM6IHsgeWVzOiBudW1iZXI7IG5vOiBudW1iZXI7IHVua25vd246IG51bWJlciB9O1xuICBsYXN0RXZlbnRBdDogc3RyaW5nIHwgbnVsbDtcbn07XG5cbnR5cGUgQWdlQnVja2V0cyA9IHtcbiAgY2hpbGQ6IG51bWJlcjtcbiAgdGVlbjogbnVtYmVyO1xuICB5b3VuZ0FkdWx0OiBudW1iZXI7XG4gIG1pZGRsZUFnZTogbnVtYmVyO1xuICBzZW5pb3I6IG51bWJlcjtcbiAgdW5rbm93bjogbnVtYmVyO1xufTtcblxuY29uc3QgZW1wdHlTdGF0cyA9ICgpOiBDaGFubmVsU3RhdHMgPT4gKHtcbiAgcGVvcGxlSW46IDAsXG4gIHBlb3BsZU91dDogMCxcbiAgZmFjZUV2ZW50czogMCxcbiAgZmFjZXNEZXRlY3RlZDogMCxcbiAgZ2VuZGVyOiB7IG1hbGU6IDAsIGZlbWFsZTogMCwgdW5rbm93bjogMCB9LFxuICBhZ2U6IHsgYXZnOiBudWxsIH0sXG4gIGdsYXNzZXM6IHsgeWVzOiAwLCBubzogMCwgdW5rbm93bjogMCB9LFxuICBsYXN0RXZlbnRBdDogbnVsbFxufSk7XG5cbmNvbnN0IGVtcHR5QWdlQnVja2V0cyA9ICgpOiBBZ2VCdWNrZXRzID0+ICh7XG4gIGNoaWxkOiAwLFxuICB0ZWVuOiAwLFxuICB5b3VuZ0FkdWx0OiAwLFxuICBtaWRkbGVBZ2U6IDAsXG4gIHNlbmlvcjogMCxcbiAgdW5rbm93bjogMFxufSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxOiBSZXF1ZXN0KSB7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gIGNvbnN0IHpvbmUgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcInpvbmVcIik/LnRyaW0oKTtcbiAgY29uc3QgZGF5ID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJkYXlcIik7XG4gIGNvbnN0IGRheVBhcmFtID0gZGF5ID8gZGF5LnRyaW0oKSA6IFwiXCI7XG4gIGlmICghem9uZSkge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiBmYWxzZSwgZXJyb3I6IFwiTWlzc2luZyB6b25lLlwiIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gIH1cblxuICBjb25zdCBkYiA9IGdldERiUG9vbCgpO1xuICBjb25zdCBjaGFubmVsc1Jlc3VsdCA9IGF3YWl0IGRiLnF1ZXJ5KFxuICAgIGBzZWxlY3QgYy5pZCBhcyBjYW1lcmFfaWQsXG4gICAgICAgICAgICBjLmlwLFxuICAgICAgICAgICAgYy5uYW1lIGFzIGNhbWVyYV9uYW1lLFxuICAgICAgICAgICAgY2guY2hhbm5lbF9ubyxcbiAgICAgICAgICAgIGNoLm5hbWUgYXMgY2hhbm5lbF9uYW1lLFxuICAgICAgICAgICAgY2guem9uZSxcbiAgICAgICAgICAgIGNoLmZlYXR1cmVzLFxuICAgICAgICAgICAgY2guY2FwYWJpbGl0aWVzXG4gICAgIGZyb20gY2hhbm5lbHMgY2hcbiAgICAgam9pbiBjYW1lcmFzIGMgb24gYy5pZCA9IGNoLmNhbWVyYV9pZFxuICAgICB3aGVyZSBjaC56b25lID0gJDFcbiAgICAgb3JkZXIgYnkgY29hbGVzY2UoYy5uYW1lLCBjLmlwKSBhc2MsIGNoLmNoYW5uZWxfbm8gYXNjYCxcbiAgICBbem9uZV1cbiAgKTtcblxuICBjb25zdCBwZW9wbGVXaGVyZSA9IGRheVBhcmFtXG4gICAgPyBcImNoLnpvbmUgPSAkMSBhbmQgcC5kYXkgPSAkMjo6ZGF0ZVwiXG4gICAgOiBcImNoLnpvbmUgPSAkMSBhbmQgcC5kYXkgPj0gY3VycmVudF9kYXRlXCI7XG4gIGNvbnN0IHBlb3BsZVBhcmFtcyA9IGRheVBhcmFtID8gW3pvbmUsIGRheVBhcmFtXSA6IFt6b25lXTtcbiAgY29uc3QgcGVvcGxlUm93cyA9IGF3YWl0IGRiLnF1ZXJ5KFxuICAgIGBzZWxlY3QgcC5jYW1lcmFfaWQsXG4gICAgICAgICAgICBwLmNoYW5uZWxfbm8sXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0ocC5pbl9jb3VudCksIDApIGFzIHBlb3BsZV9pbixcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShwLm91dF9jb3VudCksIDApIGFzIHBlb3BsZV9vdXQsXG4gICAgICAgICAgICBtYXgocC5kYXkpIGFzIGxhc3RfcGVvcGxlX2V2ZW50XG4gICAgIGZyb20gY291bnRpbmdfc3RhdHNfZGFpbHkgcFxuICAgICBqb2luIGNoYW5uZWxzIGNoXG4gICAgICAgb24gY2guY2FtZXJhX2lkID0gcC5jYW1lcmFfaWQgYW5kIGNoLmNoYW5uZWxfbm8gPSBwLmNoYW5uZWxfbm9cbiAgICAgd2hlcmUgJHtwZW9wbGVXaGVyZX1cbiAgICAgZ3JvdXAgYnkgcC5jYW1lcmFfaWQsIHAuY2hhbm5lbF9ub2AsXG4gICAgcGVvcGxlUGFyYW1zXG4gICk7XG5cbiAgY29uc3QgZmFjZVdoZXJlID0gZGF5UGFyYW1cbiAgICA/IFwiY2guem9uZSA9ICQxIGFuZCBmLmJ1Y2tldF9zdGFydCA+PSAkMjo6ZGF0ZSBhbmQgZi5idWNrZXRfc3RhcnQgPCAkMjo6ZGF0ZSArIGludGVydmFsICcxIGRheSdcIlxuICAgIDogXCJjaC56b25lID0gJDFcIjtcbiAgY29uc3QgZmFjZVBhcmFtcyA9IGRheVBhcmFtID8gW3pvbmUsIGRheVBhcmFtXSA6IFt6b25lXTtcbiAgY29uc3QgZmFjZVJvd3MgPSBhd2FpdCBkYi5xdWVyeShcbiAgICBgc2VsZWN0IGYuY2FtZXJhX2lkLFxuICAgICAgICAgICAgZi5jaGFubmVsX25vLFxuICAgICAgICAgICAgbWF4KGYuYnVja2V0X3N0YXJ0KSBhcyBsYXN0X2ZhY2VfZXZlbnRcbiAgICAgZnJvbSBmYWNlX3N0YXRzX2hvdXJseSBmXG4gICAgIGpvaW4gY2hhbm5lbHMgY2hcbiAgICAgICBvbiBjaC5jYW1lcmFfaWQgPSBmLmNhbWVyYV9pZCBhbmQgY2guY2hhbm5lbF9ubyA9IGYuY2hhbm5lbF9ub1xuICAgICB3aGVyZSAke2ZhY2VXaGVyZX1cbiAgICAgZ3JvdXAgYnkgZi5jYW1lcmFfaWQsIGYuY2hhbm5lbF9ub2AsXG4gICAgZmFjZVBhcmFtc1xuICApO1xuXG4gIGNvbnN0IGF0dHJpYnV0ZVdoZXJlID0gZGF5UGFyYW1cbiAgICA/IFwiY2guem9uZSA9ICQxIGFuZCBmLmRheSA9ICQyOjpkYXRlXCJcbiAgICA6IFwiY2guem9uZSA9ICQxIGFuZCBmLmRheSA+PSBjdXJyZW50X2RhdGVcIjtcbiAgY29uc3QgYXR0cmlidXRlUGFyYW1zID0gZGF5UGFyYW0gPyBbem9uZSwgZGF5UGFyYW1dIDogW3pvbmVdO1xuICBjb25zdCBhdHRyaWJ1dGVSb3dzID0gYXdhaXQgZGIucXVlcnkoXG4gICAgYHNlbGVjdCBmLmNhbWVyYV9pZCxcbiAgICAgICAgICAgIGYuY2hhbm5lbF9ubyxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLnRvdGFsKSwgMCkgYXMgZmFjZXNfdG90YWwsXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5tYWxlKSwgMCkgYXMgbWFsZV9jb3VudCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmZlbWFsZSksIDApIGFzIGZlbWFsZV9jb3VudCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLnVua25vd25fZ2VuZGVyKSwgMCkgYXMgZ2VuZGVyX3Vua25vd24sXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5nbGFzc2VzX3llcyksIDApIGFzIGdsYXNzZXNfeWVzLFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuZ2xhc3Nlc19ubyksIDApIGFzIGdsYXNzZXNfbm8sXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5nbGFzc2VzX3Vua25vd24pLCAwKSBhcyBnbGFzc2VzX3Vua25vd24sXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5hZ2VfY2hpbGQpLCAwKSBhcyBjaGlsZF9jb3VudCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmFnZV90ZWVuKSwgMCkgYXMgdGVlbl9jb3VudCxcbiAgICAgICAgICAgIGNvYWxlc2NlKHN1bShmLmFnZV95b3VuZ19hZHVsdCksIDApIGFzIHlvdW5nX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuYWdlX21pZGRsZV9hZ2UpLCAwKSBhcyBtaWRkbGVfY291bnQsXG4gICAgICAgICAgICBjb2FsZXNjZShzdW0oZi5hZ2Vfc2VuaW9yKSwgMCkgYXMgc2VuaW9yX2NvdW50LFxuICAgICAgICAgICAgY29hbGVzY2Uoc3VtKGYuYWdlX3Vua25vd24pLCAwKSBhcyBhZ2VfdW5rbm93bl9jb3VudFxuICAgICBmcm9tIGZhY2Vfc3RhdHNfZGFpbHkgZlxuICAgICBqb2luIGNoYW5uZWxzIGNoXG4gICAgICAgb24gY2guY2FtZXJhX2lkID0gZi5jYW1lcmFfaWQgYW5kIGNoLmNoYW5uZWxfbm8gPSBmLmNoYW5uZWxfbm9cbiAgICAgd2hlcmUgJHthdHRyaWJ1dGVXaGVyZX1cbiAgICAgZ3JvdXAgYnkgZi5jYW1lcmFfaWQsIGYuY2hhbm5lbF9ub2AsXG4gICAgYXR0cmlidXRlUGFyYW1zXG4gICk7XG5cbiAgY29uc3Qgc3RhdHNNYXAgPSBuZXcgTWFwPHN0cmluZywgQ2hhbm5lbFN0YXRzPigpO1xuICBjb25zdCBhZ2VNYXAgPSBuZXcgTWFwPHN0cmluZywgQWdlQnVja2V0cz4oKTtcblxuICBjb25zdCBrZXlGb3IgPSAoY2FtZXJhSWQ6IHN0cmluZywgY2hhbm5lbE5vOiBudW1iZXIpID0+IGAke2NhbWVyYUlkfToke2NoYW5uZWxOb31gO1xuXG4gIGZvciAoY29uc3Qgcm93IG9mIHBlb3BsZVJvd3Mucm93cykge1xuICAgIGNvbnN0IGNhbWVyYUlkID0gcm93LmNhbWVyYV9pZCBhcyBzdHJpbmc7XG4gICAgY29uc3QgY2hhbm5lbE5vID0gTnVtYmVyKHJvdy5jaGFubmVsX25vKTtcbiAgICBzdGF0c01hcC5zZXQoa2V5Rm9yKGNhbWVyYUlkLCBjaGFubmVsTm8pLCB7XG4gICAgICBwZW9wbGVJbjogTnVtYmVyKHJvdy5wZW9wbGVfaW4gPz8gMCksXG4gICAgICBwZW9wbGVPdXQ6IE51bWJlcihyb3cucGVvcGxlX291dCA/PyAwKSxcbiAgICAgIGZhY2VFdmVudHM6IDAsXG4gICAgICBmYWNlc0RldGVjdGVkOiAwLFxuICAgICAgZ2VuZGVyOiB7IG1hbGU6IDAsIGZlbWFsZTogMCwgdW5rbm93bjogMCB9LFxuICAgICAgYWdlOiB7IGF2ZzogbnVsbCB9LFxuICAgICAgZ2xhc3NlczogeyB5ZXM6IDAsIG5vOiAwLCB1bmtub3duOiAwIH0sXG4gICAgICBsYXN0RXZlbnRBdDogcm93Lmxhc3RfcGVvcGxlX2V2ZW50XG4gICAgICAgID8gbmV3IERhdGUocm93Lmxhc3RfcGVvcGxlX2V2ZW50KS50b0lTT1N0cmluZygpXG4gICAgICAgIDogbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgZm9yIChjb25zdCByb3cgb2YgZmFjZVJvd3Mucm93cykge1xuICAgIGNvbnN0IGNhbWVyYUlkID0gcm93LmNhbWVyYV9pZCBhcyBzdHJpbmc7XG4gICAgY29uc3QgY2hhbm5lbE5vID0gTnVtYmVyKHJvdy5jaGFubmVsX25vKTtcbiAgICBjb25zdCBrZXkgPSBrZXlGb3IoY2FtZXJhSWQsIGNoYW5uZWxObyk7XG4gICAgY29uc3QgZXhpc3RpbmcgPSBzdGF0c01hcC5nZXQoa2V5KSA/PyBlbXB0eVN0YXRzKCk7XG4gICAgY29uc3QgbGFzdEZhY2UgPSByb3cubGFzdF9mYWNlX2V2ZW50XG4gICAgICA/IG5ldyBEYXRlKHJvdy5sYXN0X2ZhY2VfZXZlbnQpLnRvSVNPU3RyaW5nKClcbiAgICAgIDogbnVsbDtcbiAgICBzdGF0c01hcC5zZXQoa2V5LCB7XG4gICAgICAuLi5leGlzdGluZyxcbiAgICAgIGZhY2VFdmVudHM6IGV4aXN0aW5nLmZhY2VFdmVudHMsXG4gICAgICBmYWNlc0RldGVjdGVkOiBleGlzdGluZy5mYWNlc0RldGVjdGVkLFxuICAgICAgbGFzdEV2ZW50QXQ6IGV4aXN0aW5nLmxhc3RFdmVudEF0IHx8IGxhc3RGYWNlXG4gICAgfSk7XG4gIH1cblxuICBmb3IgKGNvbnN0IHJvdyBvZiBhdHRyaWJ1dGVSb3dzLnJvd3MpIHtcbiAgICBjb25zdCBjYW1lcmFJZCA9IHJvdy5jYW1lcmFfaWQgYXMgc3RyaW5nO1xuICAgIGNvbnN0IGNoYW5uZWxObyA9IE51bWJlcihyb3cuY2hhbm5lbF9ubyk7XG4gICAgY29uc3Qga2V5ID0ga2V5Rm9yKGNhbWVyYUlkLCBjaGFubmVsTm8pO1xuICAgIGNvbnN0IGV4aXN0aW5nID0gc3RhdHNNYXAuZ2V0KGtleSkgPz8gZW1wdHlTdGF0cygpO1xuICAgIGNvbnN0IGNoaWxkID0gTnVtYmVyKHJvdy5jaGlsZF9jb3VudCA/PyAwKTtcbiAgICBjb25zdCB0ZWVuID0gTnVtYmVyKHJvdy50ZWVuX2NvdW50ID8/IDApO1xuICAgIGNvbnN0IHlvdW5nID0gTnVtYmVyKHJvdy55b3VuZ19jb3VudCA/PyAwKTtcbiAgICBjb25zdCBtaWRkbGUgPSBOdW1iZXIocm93Lm1pZGRsZV9jb3VudCA/PyAwKTtcbiAgICBjb25zdCBzZW5pb3IgPSBOdW1iZXIocm93LnNlbmlvcl9jb3VudCA/PyAwKTtcbiAgICBjb25zdCBrbm93bkFnZXMgPSBjaGlsZCArIHRlZW4gKyB5b3VuZyArIG1pZGRsZSArIHNlbmlvcjtcbiAgICBjb25zdCBhdmdBZ2UgPVxuICAgICAga25vd25BZ2VzID4gMFxuICAgICAgICA/IChjaGlsZCAqIDYgKyB0ZWVuICogMTYgKyB5b3VuZyAqIDMwICsgbWlkZGxlICogNTAgKyBzZW5pb3IgKiA3MCkgLyBrbm93bkFnZXNcbiAgICAgICAgOiBudWxsO1xuICAgIGNvbnN0IGZhY2VzVG90YWwgPSBOdW1iZXIocm93LmZhY2VzX3RvdGFsID8/IDApO1xuICAgIHN0YXRzTWFwLnNldChrZXksIHtcbiAgICAgIC4uLmV4aXN0aW5nLFxuICAgICAgZmFjZUV2ZW50czogZmFjZXNUb3RhbCxcbiAgICAgIGZhY2VzRGV0ZWN0ZWQ6IGZhY2VzVG90YWwsXG4gICAgICBnZW5kZXI6IHtcbiAgICAgICAgbWFsZTogTnVtYmVyKHJvdy5tYWxlX2NvdW50ID8/IDApLFxuICAgICAgICBmZW1hbGU6IE51bWJlcihyb3cuZmVtYWxlX2NvdW50ID8/IDApLFxuICAgICAgICB1bmtub3duOiBOdW1iZXIocm93LmdlbmRlcl91bmtub3duID8/IDApXG4gICAgICB9LFxuICAgICAgYWdlOiB7IGF2ZzogYXZnQWdlIH0sXG4gICAgICBnbGFzc2VzOiB7XG4gICAgICAgIHllczogTnVtYmVyKHJvdy5nbGFzc2VzX3llcyA/PyAwKSxcbiAgICAgICAgbm86IE51bWJlcihyb3cuZ2xhc3Nlc19ubyA/PyAwKSxcbiAgICAgICAgdW5rbm93bjogTnVtYmVyKHJvdy5nbGFzc2VzX3Vua25vd24gPz8gMClcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhZ2VNYXAuc2V0KGtleSwge1xuICAgICAgY2hpbGQsXG4gICAgICB0ZWVuLFxuICAgICAgeW91bmdBZHVsdDogeW91bmcsXG4gICAgICBtaWRkbGVBZ2U6IG1pZGRsZSxcbiAgICAgIHNlbmlvcixcbiAgICAgIHVua25vd246IE51bWJlcihyb3cuYWdlX3Vua25vd25fY291bnQgPz8gMClcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgb2s6IHRydWUsXG4gICAgem9uZSxcbiAgICBjaGFubmVsczogY2hhbm5lbHNSZXN1bHQucm93cy5tYXAoKHJvdykgPT4ge1xuICAgICAgY29uc3QgY2FtZXJhSWQgPSByb3cuY2FtZXJhX2lkIGFzIHN0cmluZztcbiAgICAgIGNvbnN0IGNoYW5uZWxObyA9IE51bWJlcihyb3cuY2hhbm5lbF9ubyk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjYW1lcmFJZCxcbiAgICAgICAgY2FtZXJhSXA6IHJvdy5pcCBhcyBzdHJpbmcsXG4gICAgICAgIGNhbWVyYU5hbWU6IHJvdy5jYW1lcmFfbmFtZSBhcyBzdHJpbmcgfCBudWxsLFxuICAgICAgICBjaGFubmVsSWQ6IFN0cmluZyhjaGFubmVsTm8pLFxuICAgICAgICBjaGFubmVsTmFtZTpcbiAgICAgICAgICB0eXBlb2Ygcm93LmNoYW5uZWxfbmFtZSA9PT0gXCJzdHJpbmdcIiAmJiByb3cuY2hhbm5lbF9uYW1lLnRyaW0oKVxuICAgICAgICAgICAgPyByb3cuY2hhbm5lbF9uYW1lLnRyaW0oKVxuICAgICAgICAgICAgOiBgQ2hhbm5lbCAke2NoYW5uZWxOb31gLFxuICAgICAgICB6b25lOiByb3cuem9uZSBhcyBzdHJpbmcgfCBudWxsLFxuICAgICAgICBmZWF0dXJlczogKHJvdy5mZWF0dXJlcyBhcyBzdHJpbmdbXSkgPz8gW10sXG4gICAgICAgIGNhcGFiaWxpdGllczogcm93LmNhcGFiaWxpdGllcyA/PyBudWxsLFxuICAgICAgICBzdGF0czogc3RhdHNNYXAuZ2V0KGtleUZvcihjYW1lcmFJZCwgY2hhbm5lbE5vKSkgPz8gZW1wdHlTdGF0cygpLFxuICAgICAgICBhZ2VCdWNrZXRzOiBhZ2VNYXAuZ2V0KGtleUZvcihjYW1lcmFJZCwgY2hhbm5lbE5vKSkgPz8gZW1wdHlBZ2VCdWNrZXRzKClcbiAgICAgIH07XG4gICAgfSlcbiAgfSk7XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0RGJQb29sIiwiZW1wdHlTdGF0cyIsInBlb3BsZUluIiwicGVvcGxlT3V0IiwiZmFjZUV2ZW50cyIsImZhY2VzRGV0ZWN0ZWQiLCJnZW5kZXIiLCJtYWxlIiwiZmVtYWxlIiwidW5rbm93biIsImFnZSIsImF2ZyIsImdsYXNzZXMiLCJ5ZXMiLCJubyIsImxhc3RFdmVudEF0IiwiZW1wdHlBZ2VCdWNrZXRzIiwiY2hpbGQiLCJ0ZWVuIiwieW91bmdBZHVsdCIsIm1pZGRsZUFnZSIsInNlbmlvciIsIkdFVCIsInJlcSIsInVybCIsIlVSTCIsInpvbmUiLCJzZWFyY2hQYXJhbXMiLCJnZXQiLCJ0cmltIiwiZGF5IiwiZGF5UGFyYW0iLCJqc29uIiwib2siLCJlcnJvciIsInN0YXR1cyIsImRiIiwiY2hhbm5lbHNSZXN1bHQiLCJxdWVyeSIsInBlb3BsZVdoZXJlIiwicGVvcGxlUGFyYW1zIiwicGVvcGxlUm93cyIsImZhY2VXaGVyZSIsImZhY2VQYXJhbXMiLCJmYWNlUm93cyIsImF0dHJpYnV0ZVdoZXJlIiwiYXR0cmlidXRlUGFyYW1zIiwiYXR0cmlidXRlUm93cyIsInN0YXRzTWFwIiwiTWFwIiwiYWdlTWFwIiwia2V5Rm9yIiwiY2FtZXJhSWQiLCJjaGFubmVsTm8iLCJyb3ciLCJyb3dzIiwiY2FtZXJhX2lkIiwiTnVtYmVyIiwiY2hhbm5lbF9ubyIsInNldCIsInBlb3BsZV9pbiIsInBlb3BsZV9vdXQiLCJsYXN0X3Blb3BsZV9ldmVudCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImtleSIsImV4aXN0aW5nIiwibGFzdEZhY2UiLCJsYXN0X2ZhY2VfZXZlbnQiLCJjaGlsZF9jb3VudCIsInRlZW5fY291bnQiLCJ5b3VuZyIsInlvdW5nX2NvdW50IiwibWlkZGxlIiwibWlkZGxlX2NvdW50Iiwic2VuaW9yX2NvdW50Iiwia25vd25BZ2VzIiwiYXZnQWdlIiwiZmFjZXNUb3RhbCIsImZhY2VzX3RvdGFsIiwibWFsZV9jb3VudCIsImZlbWFsZV9jb3VudCIsImdlbmRlcl91bmtub3duIiwiZ2xhc3Nlc195ZXMiLCJnbGFzc2VzX25vIiwiZ2xhc3Nlc191bmtub3duIiwiYWdlX3Vua25vd25fY291bnQiLCJjaGFubmVscyIsIm1hcCIsImNhbWVyYUlwIiwiaXAiLCJjYW1lcmFOYW1lIiwiY2FtZXJhX25hbWUiLCJjaGFubmVsSWQiLCJTdHJpbmciLCJjaGFubmVsTmFtZSIsImNoYW5uZWxfbmFtZSIsImZlYXR1cmVzIiwiY2FwYWJpbGl0aWVzIiwic3RhdHMiLCJhZ2VCdWNrZXRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/zone/channels/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDbPool: () => (/* binding */ getDbPool)\n/* harmony export */ });\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pg */ \"pg\");\n/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_0__);\n\nlet pool = null;\nfunction getDbPool() {\n    if (!pool) {\n        const connectionString = process.env.DATABASE_URL;\n        if (!connectionString) {\n            throw new Error(\"DATABASE_URL is not set.\");\n        }\n        pool = new pg__WEBPACK_IMPORTED_MODULE_0__.Pool({\n            connectionString\n        });\n    }\n    return pool;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTBCO0FBRTFCLElBQUlDLE9BQW9CO0FBRWpCLFNBQVNDO0lBQ2QsSUFBSSxDQUFDRCxNQUFNO1FBQ1QsTUFBTUUsbUJBQW1CQyxRQUFRQyxHQUFHLENBQUNDLFlBQVk7UUFDakQsSUFBSSxDQUFDSCxrQkFBa0I7WUFDckIsTUFBTSxJQUFJSSxNQUFNO1FBQ2xCO1FBQ0FOLE9BQU8sSUFBSUQsb0NBQUlBLENBQUM7WUFBRUc7UUFBaUI7SUFDckM7SUFDQSxPQUFPRjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2FtLWFuYWx5c2lzLy4vbGliL2RiLnRzPzFkZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUG9vbCB9IGZyb20gXCJwZ1wiO1xuXG5sZXQgcG9vbDogUG9vbCB8IG51bGwgPSBudWxsO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGJQb29sKCkge1xuICBpZiAoIXBvb2wpIHtcbiAgICBjb25zdCBjb25uZWN0aW9uU3RyaW5nID0gcHJvY2Vzcy5lbnYuREFUQUJBU0VfVVJMO1xuICAgIGlmICghY29ubmVjdGlvblN0cmluZykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiREFUQUJBU0VfVVJMIGlzIG5vdCBzZXQuXCIpO1xuICAgIH1cbiAgICBwb29sID0gbmV3IFBvb2woeyBjb25uZWN0aW9uU3RyaW5nIH0pO1xuICB9XG4gIHJldHVybiBwb29sO1xufVxuIl0sIm5hbWVzIjpbIlBvb2wiLCJwb29sIiwiZ2V0RGJQb29sIiwiY29ubmVjdGlvblN0cmluZyIsInByb2Nlc3MiLCJlbnYiLCJEQVRBQkFTRV9VUkwiLCJFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fzone%2Fchannels%2Froute&page=%2Fapi%2Fzone%2Fchannels%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fzone%2Fchannels%2Froute.ts&appDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fameralyasin%2FDesktop%2Fcam%20analysis&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();